/* Icon Fixes CSS - Kh·∫Øc ph·ª•c l·ªói icon v√† font */

/* ===== ICON FIXES ===== */

/* Force Font Awesome icons to display - lu√¥n hi·ªÉn th·ªã */
i, .fas, .far, .fab, .fal, .fad, 
[class^="fa-"], [class*=" fa-"] {
    font-family: "Font Awesome 6 Free" !important;
    font-weight: 900 !important;
    font-style: normal !important;
    text-rendering: auto !important;
    line-height: 1 !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Specific Font Awesome variants */
.far {
    font-weight: 400 !important;
    font-family: "Font Awesome 6 Free" !important;
}

.fab {
    font-weight: 400 !important;
    font-family: "Font Awesome 6 Brands" !important;
}

/* Fix cho icons c·ª• th·ªÉ - th√™m v√†o ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªÉn th·ªã */
.fa-book:before {
    content: "\f02d";
}

.fa-user:before {
    content: "\f007";
}

.fa-star:before {
    content: "\f005";
}

.fa-star-half-alt:before {
    content: "\f5c0";
}

.fa-tag:before {
    content: "\f02b";
}

/* Fix cho icon cu·ªën s√°ch */
i.fas.fa-book-open:before,
.fa-book-open:before {
    content: "\f518";
}

/* Ch·ªânh s·ª≠a k√≠ch th∆∞·ªõc icon */
.icon-md {
    font-size: 1.25rem !important;
}

.icon-lg {
    font-size: 1.5rem !important;
}

.icon-xl {
    font-size: 2rem !important;
}

/* Fix cho s·ªë l∆∞·ª£ng ·ªü ph·∫ßn footer */
.stats-number {
    font-weight: bold;
    font-size: 1.5rem;
}

/* Force icon content display */
.fas::before, .far::before, .fab::before,
[class^="fa-"]::before, [class*=" fa-"]::before {
    font-family: inherit !important;
    font-weight: inherit !important;
    text-rendering: auto !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

/* Icon fallbacks v·ªõi Unicode - ch·ªâ hi·ªÉn th·ªã khi Font Awesome th·∫≠t s·ª± fail */
body.icon-fallback-active .fa-book::before,
body.icon-fallback-active .fa-book-reader::before { 
    content: "üìö" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-home::before { 
    content: "üè†" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-star::before { 
    content: "‚≠ê" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-tags::before { 
    content: "üè∑Ô∏è" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-user::before,
body.icon-fallback-active .fa-user-circle::before { 
    content: "üë§" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-sign-in-alt::before { 
    content: "üîë" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-user-plus::before { 
    content: "‚ûï" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-sign-out-alt::before { 
    content: "üö™" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-cog::before { 
    content: "‚öôÔ∏è" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-comments::before { 
    content: "üí¨" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-calendar::before { 
    content: "üìÖ" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-paper-plane::before { 
    content: "‚úàÔ∏è" !important; 
    font-family: inherit !important;
}

body.icon-fallback-active .fa-bookmark::before { 
    content: "üîñ" !important; 
    font-family: inherit !important;
}

/* ·∫®n Font Awesome icons khi fallback active ƒë·ªÉ tr√°nh duplicate */
body.icon-fallback-active i[class*="fa-"]::before {
    font-family: inherit !important;
}

body.icon-fallback-active i[class*="fa-"] {
    font-family: inherit !important;
    font-weight: normal !important;
}

/* ===== FONT PRIORITY FIXES ===== */

/* High priority Roboto application */
body.roboto-loaded,
html.roboto-loaded body,
html.roboto-loaded body * {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
}

/* Specific elements with font priority */
h1, h2, h3, h4, h5, h6,
.card-title, .navbar-brand,
.btn, .badge {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    font-weight: 600 !important;
}

/* Book title specific fix */
.book-title, 
h2.fw-bold,
.card-title {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    font-weight: 700 !important;
    font-size: inherit !important;
    line-height: 1.3 !important;
}

/* Author and metadata text */
.text-muted,
.text-muted strong {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    font-weight: 500 !important;
}

/* Rating and review text */
.rating-stars,
.rating-stars span {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    font-weight: 400 !important;
}

/* Description text */
p, .card-text,
.description-text {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    font-weight: 400 !important;
    line-height: 1.6 !important;
}

/* ===== LOADING STATE OVERRIDES ===== */

/* Force immediate visibility during font loading */
.font-loading-roboto *,
.font-loading *,
body.font-loading-roboto *,
body.font-loading * {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Icon visibility during loading */
.font-loading-roboto i,
.font-loading i,
body.font-loading-roboto i,
body.font-loading i {
    font-family: "Font Awesome 6 Free", "FontAwesome", serif !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* ===== EMERGENCY OVERRIDES ===== */

/* Ultimate fallback for worst case scenarios */
html {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif !important;
}

/* Force text visibility regardless of font loading state */
* {
    visibility: visible !important;
    opacity: 1 !important;
}

/* Icon emergency fallback */
i[class*="fa-"]:empty {
    display: inline-block !important;
    width: auto !important;
    text-align: center !important;
}

i[class*="fa-"]:empty::before {
    content: "‚Ä¢" !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    font-size: 0.8em !important;
    opacity: 0.7 !important;
}

/* ===== RESPONSIVE FIXES ===== */

@media (max-width: 768px) {
    /* Mobile font adjustments */
    h1, h2, .card-title {
        font-size: 1.4rem !important;
        line-height: 1.3 !important;
    }
    
    .text-muted {
        font-size: 0.9rem !important;
    }
    
    /* Mobile icon adjustments */
    i[class*="fa-"] {
        font-size: 1rem !important;
    }
}

/* ===== PRINT SUPPORT ===== */

@media print {
    i[class*="fa-"]::before {
        content: " [icon] " !important;
        font-family: serif !important;
    }
    
    * {
        font-family: 'Roboto', serif !important;
    }
} 